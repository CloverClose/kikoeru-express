<!DOCTYPE html><html><head><base href=/ ><title>Kikoeru</title><meta charset=utf-8><meta name=description content="A self-hosted web media player for listening to your DLsite voice works."><meta name=format-detection content="telephone=no"><meta name=msapplication-tap-highlight content=no><meta name=viewport content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"><link rel=icon type=image/png href=statics/app-logo-128x128.png><link rel=icon type=image/png sizes=16x16 href=statics/icons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=statics/icons/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=statics/icons/favicon-96x96.png><link rel=icon type=image/ico href=statics/icons/favicon.ico><link href=/css/app.f8322749.css rel=stylesheet></head><body><noscript>We are sorry, but Kikoeru requires Javascript to work.</noscript><div id=q-app></div><script src=/js/app.1ddf2869.js></script><script src=/js/runtime.4271bde0.js></script><script src=/js/vendor.c4acbea1.js></script></body><script>//js调用Android方法：接收Android传递过来的数据，并做处理

    function testClick() {

     //参数一：调用java中的方法   submitFromWeb是方法名，必须和Android中注册时候的方法名称保持一致
     //参数二：返回给Android端的数据，可以为字符串，json等信息
     //参数三：js接收到Android传递过来的数据之后的相应处理逻辑

       window.WebViewJavascriptBridge.callHandler(
          'submitFromWeb'
          , {'param': "JS成功接收到数据---"}
          , function(responseData) {
               alert(responseData)
          }
      );
  }

  //JS注册事件监听
  function connectWebViewJavascriptBridge(callback) {
      if (window.WebViewJavascriptBridge) {
          callback(WebViewJavascriptBridge)
      } else {
          document.addEventListener(
              'WebViewJavascriptBridgeReady'
              , function() {
                  callback(WebViewJavascriptBridge)
              },
              false
          );
      }
  }

   //注册回调函数，第一次连接时调用 初始化函数
  connectWebViewJavascriptBridge(function(bridge) {
       //初始化
      bridge.init(function(message, responseCallback) {
          var data = {
              'Javascript Responds': 'Wee!'
          };
          alert("jasdashjd");
          responseCallback(data);
      });


      //Android调用js方法：functionInJs方法名称需要保持一致 ，并返回给Android通知

      bridge.registerHandler("functionInJs", function(data, responseCallback) {
          alert(data);
          var data2 = document.getElementById("text1").value;
          var responseData = "我是Android调用js方法返回的数据---"+ data2;
          responseCallback(responseData);
      });
  })</script></html>